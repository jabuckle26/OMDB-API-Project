!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(e){this.html="<div class=film>\n                        <div class=visibleInfo>\n                            <img src="+e.Poster+">\n                            <h4>"+e.Title+'</h4>\n                        </div>\n                        <div class=hiddenInfo>\n                            <a class="addFaves" id="'+e.imdbID+'">My Films <i class="fas fa-heart"></i></a>\n                        </div>\n                    </div>'},o="james",i="",c=[],l=function(e){u();var t=document.getElementById("filmContainer");Array.from(e.Search).forEach((function(e){var n=new r(e);t.innerHTML+=n.html})),Array.from(document.querySelectorAll(".addFaves")).forEach((function(e){e.addEventListener("click",f)}))},u=function(){var e=document.querySelectorAll(".film");Array.from(e).forEach((function(e){e.remove()}))},d=function(){document.getElementById("myMovies").style.color="white";var e=document.getElementById("searchBox"),t=e.value;e.value="";var n=document.getElementById("filterYear");i=n.value,n.value="",o=t,a()},a=function(){""===i?fetch("http://www.omdbapi.com/?s="+o+"&apikey=70b6f337").then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){throw new Error(e)})):fetch("http://www.omdbapi.com/?s="+o+"&y="+i+"&apikey=70b6f337").then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){throw new Error(e)}))},f=function(e){c.includes(e.target.id)?(c=c.filter((function(t){return t!==e.target.id})),document.getElementById(e.target.id).classList.remove("faved")):(c.push(e.target.id),s(e)),console.log(c)},s=function(e){e.target.classList.toggle("faved")};document.getElementById("searchButton").addEventListener("click",d),document.getElementById("searchBox").addEventListener("keyup",(function(e){"Enter"===e.code&&d()})),document.getElementById("filterButton").addEventListener("click",(function(){var e=document.getElementById("filterYear");"inline-block"===e.style.display?(e.style.display="none",document.getElementById("filterButton").style.color="white"):(e.style.display="inline-block",document.getElementById("filterButton").style.color="yellow")})),document.getElementById("myMovies").addEventListener("click",(function(){document.getElementById("myMovies").style.color="red",u(),c.forEach((function(e){""!==e&&fetch("http://www.omdbapi.com/?i="+e+"&apikey=70b6f337").then((function(e){return e.json()})).then((function(e){return function(e){var t=document.getElementById("filmContainer"),n=new r(e);t.innerHTML+=n.html,document.getElementById(e.imdbID).classList.add("faved"),document.getElementById(e.imdbID).addEventListener("click",f)}(e)})).catch((function(e){throw new Error(e)}))}))})),a()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmaWxtIiwidGhpcyIsImh0bWwiLCJQb3N0ZXIiLCJUaXRsZSIsImltZGJJRCIsInNlYXJjaCIsInllYXJGaWx0ZXIiLCJmYXZvdXJpdGVMaXN0IiwiYnVpbGRMaXN0IiwiZGF0YSIsImNsZWFySFRNTExJU1QiLCJzZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIkFycmF5IiwiZnJvbSIsIlNlYXJjaCIsImZvckVhY2giLCJmaWxtSW5zdGFuY2UiLCJGaWxtSFRNTCIsImlubmVySFRNTCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YXJnZXRUYWciLCJhZGRFdmVudExpc3RlbmVyIiwiYXBwZW5kRmF2b3VyaXRlcyIsImxpc3RJdGVtcyIsImxpc3RJdGVtIiwicmVtb3ZlIiwic2VhcmNoRmlsbXMiLCJzdHlsZSIsImNvbG9yIiwiYm94VmFsdWUiLCJ1c2VyU2VhcmNoIiwiZmlsdGVyQm94VmFsdWUiLCJnZXRBUElEYXRhIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiY2F0Y2giLCJlcnJvciIsIkVycm9yIiwiZSIsImluY2x1ZGVzIiwidGFyZ2V0IiwiaWQiLCJmaWx0ZXIiLCJpdGVtIiwiY2xhc3NMaXN0IiwicHVzaCIsIm1hcmtBc0Zhdm91cml0aWUiLCJjb25zb2xlIiwibG9nIiwidG9nZ2xlIiwiZXYiLCJjb2RlIiwidGFyZ2V0Qm94IiwiZGlzcGxheSIsImFkZCIsImJ1aWxkRmF2ZXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FB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Q2xFaEIsU0FBU0MsZUFBZSxhQUFhVSxpQkFBaUIsU0EvRGhDLFNBQUMrQixHQUNILFVBQVpBLEVBQUdDLE1BQW9CM0IsT0ErRC9CaEIsU0FBU0MsZUFBZSxnQkFBZ0JVLGlCQUFpQixTQTVEbkMsV0FDbEIsSUFBSWlDLEVBQVk1QyxTQUFTQyxlQUFlLGNBQ1IsaUJBQTVCMkMsRUFBVTNCLE1BQU00QixTQUVoQkQsRUFBVTNCLE1BQU00QixRQUFVLE9BQzFCN0MsU0FBU0MsZUFBZSxnQkFBZ0JnQixNQUFNQyxNQUFRLFVBR3REMEIsRUFBVTNCLE1BQU00QixRQUFVLGVBQzFCN0MsU0FBU0MsZUFBZSxnQkFBZ0JnQixNQUFNQyxNQUFRLGFBb0Q5RGxCLFNBQVNDLGVBQWUsWUFBWVUsaUJBQWlCLFNBOUI5QixXQUNuQlgsU0FBU0MsZUFBZSxZQUFZZ0IsTUFBTUMsTUFBUSxNQUNsRHBCLElBQ0FILEVBQWNVLFNBQVEsU0FBQTRCLEdBQ1AsS0FBUEEsR0FDQVYsTUFBTSw2QkFBNkJVLEVBQUUsb0JBQ2hDVCxNQUFLLFNBQUNDLEdBR0gsT0FEb0JBLEVBQVNDLFVBR2hDRixNQUFLLFNBQUMzQixHQUNILE9BdkdELFNBQUNBLEdBQ2hCLElBQU1FLEVBQVVDLFNBQVNDLGVBQWUsaUJBQ3BDSyxFQUFlLElBQUlDLEVBQVNWLEdBQ2hDRSxFQUFRUyxXQUFhRixFQUFhakIsS0FDbENXLFNBQVNDLGVBQWVKLEVBQUtMLFFBQVE0QyxVQUFVVSxJQUFJLFNBQ25EOUMsU0FBU0MsZUFBZUosRUFBS0wsUUFBUW1CLGlCQUFpQixRQUFTQyxHQWtHeENtQyxDQUFXbEQsTUFFckI4QixPQUFNLFNBQUNDLEdBQ0osTUFBTSxJQUFJQyxNQUFNRCxZQWtCcENOIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY2xhc3MgRmlsbUhUTUwge1xyXG4gICAgaHRtbDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZpbG0pIHtcclxuICAgICAgICB0aGlzLmh0bWwgPSBgPGRpdiBjbGFzcz1maWxtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPXZpc2libGVJbmZvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9JHtmaWxtLlBvc3Rlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+JHtmaWxtLlRpdGxlfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPWhpZGRlbkluZm8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImFkZEZhdmVzXCIgaWQ9XCIke2ZpbG0uaW1kYklEfVwiPk15IEZpbG1zIDxpIGNsYXNzPVwiZmFzIGZhLWhlYXJ0XCI+PC9pPjwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxyXG4gICAgfVxyXG59IiwiLy8gaHR0cDovL3d3dy5vbWRiYXBpLmNvbS8/aT10dDM4OTYxOTgmYXBpa2V5PTcwYjZmMzM3XHJcbmltcG9ydCB7IEZpbG1IVE1MIH0gZnJvbSAnLi9jbGFzc2VzJztcclxuXHJcbmxldCBzZWFyY2g6IHN0cmluZyA9ICdqYW1lcyc7XHJcbmxldCB5ZWFyRmlsdGVyOiBzdHJpbmcgPSAnJztcclxubGV0IGZhdm91cml0ZUxpc3Q6IHN0cmluZ1tdID0gW107XHJcblxyXG5jb25zdCBidWlsZExpc3QgPSAoZGF0YSkgPT4ge1xyXG4gICAgY2xlYXJIVE1MTElTVCgpO1xyXG4gICAgY29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxtQ29udGFpbmVyJyk7XHJcbiAgICBBcnJheS5mcm9tKGRhdGEuU2VhcmNoKS5mb3JFYWNoKChmaWxtKSA9PiB7XHJcbiAgICAgICAgbGV0IGZpbG1JbnN0YW5jZSA9IG5ldyBGaWxtSFRNTChmaWxtKTtcclxuICAgICAgICBzZWN0aW9uLmlubmVySFRNTCArPSBmaWxtSW5zdGFuY2UuaHRtbDtcclxuICAgIH0pO1xyXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWRkRmF2ZXMnKSkuZm9yRWFjaCh0YXJnZXRUYWcgPT4ge1xyXG4gICAgICAgIHRhcmdldFRhZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFwcGVuZEZhdm91cml0ZXMpO1xyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgYnVpbGRGYXZlcyA9IChkYXRhKSA9PiB7XHJcbiAgICBjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbG1Db250YWluZXInKTtcclxuICAgIGxldCBmaWxtSW5zdGFuY2UgPSBuZXcgRmlsbUhUTUwoZGF0YSk7XHJcbiAgICBzZWN0aW9uLmlubmVySFRNTCArPSBmaWxtSW5zdGFuY2UuaHRtbDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEuaW1kYklEKS5jbGFzc0xpc3QuYWRkKCdmYXZlZCcpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGF0YS5pbWRiSUQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXBwZW5kRmF2b3VyaXRlcyk7XHJcbn1cclxuXHJcbmNvbnN0IGNsZWFySFRNTExJU1QgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0SXRlbXM6IE5vZGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbG0nKTtcclxuICAgIEFycmF5LmZyb20obGlzdEl0ZW1zKS5mb3JFYWNoKChsaXN0SXRlbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGxpc3RJdGVtLnJlbW92ZSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3Qgc2VhcmNoRmlsbXMgPSAoKSA9PiB7XHJcbiAgICAvL2NvbnN0IHVzZXJTZWFyY2ggPSAkKFwiI3NlYXJjaEJveFwiKS52YWwoKS50b1N0cmluZygpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TW92aWVzJykuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xyXG4gICAgY29uc3QgYm94VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoQm94JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IHVzZXJTZWFyY2ggPSBib3hWYWx1ZS52YWx1ZTtcclxuICAgIGJveFZhbHVlLnZhbHVlID0gJyc7XHJcbiAgICBjb25zdCBmaWx0ZXJCb3hWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJZZWFyJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIHllYXJGaWx0ZXIgPSBmaWx0ZXJCb3hWYWx1ZS52YWx1ZTtcclxuICAgIGZpbHRlckJveFZhbHVlLnZhbHVlID0gJyc7XHJcblxyXG4gICAgc2VhcmNoID0gdXNlclNlYXJjaDtcclxuICAgIGdldEFQSURhdGEoKTtcclxuXHJcbn1cclxuXHJcbmNvbnN0IGdldEFQSURhdGEgPSAoKSA9PiB7XHJcbiAgICBpZiAoeWVhckZpbHRlciA9PT0gJycpIHtcclxuICAgICAgICBmZXRjaChgaHR0cDovL3d3dy5vbWRiYXBpLmNvbS8/cz0ke3NlYXJjaH0mYXBpa2V5PTcwYjZmMzM3YClcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNwb25zZSA9IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdSZXNwb25zZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsgcmV0dXJuIGJ1aWxkTGlzdChkYXRhKSB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmV0Y2goYGh0dHA6Ly93d3cub21kYmFwaS5jb20vP3M9JHtzZWFyY2h9Jnk9JHt5ZWFyRmlsdGVyfSZhcGlrZXk9NzBiNmYzMzdgKVxyXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Jlc3BvbnNlID0gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4geyByZXR1cm4gYnVpbGRMaXN0KGRhdGEpIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBjaGVja0VudGVyS2V5ID0gKGV2KSA9PiB7XHJcbiAgICBpZiAoZXYuY29kZSA9PT0gJ0VudGVyJykgeyBzZWFyY2hGaWxtcygpIH07XHJcbn1cclxuXHJcbmNvbnN0IHNob3dGaWx0ZXJCb3ggPSAoKSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclllYXInKTtcclxuICAgIGlmICh0YXJnZXRCb3guc3R5bGUuZGlzcGxheSA9PT0gJ2lubGluZS1ibG9jaycpIHtcclxuICAgICAgICAvL1N3aXRjaCB0byBoaWRkZW5cclxuICAgICAgICB0YXJnZXRCb3guc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJCdXR0b24nKS5zdHlsZS5jb2xvciA9IFwid2hpdGVcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9Td2l0Y2ggdG8gdmlzaWJsZVxyXG4gICAgICAgIHRhcmdldEJveC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyQnV0dG9uJykuc3R5bGUuY29sb3IgPSBcInllbGxvd1wiO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBhcHBlbmRGYXZvdXJpdGVzID0gKGUpID0+IHtcclxuICAgIGlmIChmYXZvdXJpdGVMaXN0LmluY2x1ZGVzKGUudGFyZ2V0LmlkKSl7XHJcbiAgICAgICAgZmF2b3VyaXRlTGlzdCA9IGZhdm91cml0ZUxpc3QuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKGl0ZW0gIT09IGUudGFyZ2V0LmlkKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS50YXJnZXQuaWQpLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhdmVkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgZmF2b3VyaXRlTGlzdC5wdXNoKGUudGFyZ2V0LmlkKTtcclxuICAgIC8vIGZhdm91cml0ZUxpc3QgPSBmYXZvdXJpdGVMaXN0LmZpbHRlcihpdGVtID0+IHtcclxuICAgIC8vICAgICByZXR1cm4gKGUudGFyZ2V0LmllID09PSBpdGVtKVxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgbWFya0FzRmF2b3VyaXRpZShlKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKGZhdm91cml0ZUxpc3QpO1xyXG59XHJcblxyXG5cclxuY29uc3Qgc2hvd0Zhdm91cml0ZXMgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlNb3ZpZXMnKS5zdHlsZS5jb2xvciA9ICdyZWQnO1xyXG4gICAgY2xlYXJIVE1MTElTVCgpO1xyXG4gICAgZmF2b3VyaXRlTGlzdC5mb3JFYWNoKGlkID0+IHtcclxuICAgICAgICBpZiAoaWQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIGZldGNoKGBodHRwOi8vd3d3Lm9tZGJhcGkuY29tLz9pPSR7aWR9JmFwaWtleT03MGI2ZjMzN2ApXHJcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmVzcG9uc2UgPSByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkRmF2ZXMoZGF0YSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgbWFya0FzRmF2b3VyaXRpZSA9IChlKSA9PiB7XHJcbiAgICBsZXQgYTogSFRNTEVsZW1lbnQgPSBlLnRhcmdldDtcclxuICAgIGEuY2xhc3NMaXN0LnRvZ2dsZSgnZmF2ZWQnKTtcclxufVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaEJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZWFyY2hGaWxtcyk7XHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hCb3gnKS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgY2hlY2tFbnRlcktleSk7XHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJCdXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dGaWx0ZXJCb3gpO1xyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlNb3ZpZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dGYXZvdXJpdGVzKTtcclxuXHJcblxyXG5nZXRBUElEYXRhKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=